#SET{saisies,#ARRAY}

[(#REM) préparation des saisies]
<BOUCLE_criteres(DATA){source tableau, #ENV{_criteres}}>
  #SET{mots,#ENV{mots}}
	#SET{data,#ARRAY}
	#SET{score,1}
	#SET{request,#ENV{#VALEUR}}

	[(#REM) enleve la valeur du menu concerné adin de ne pas l'autolimiter]
	#SET{mots,#GET{mots}|array_diff{#LISTE{#GET{request}}}}

	[(#REM) Ajouter aux options les mots qui donneront un résultat]
	<BOUCLE_groupe(MOTS){id_groupe=#CLE}{par titre}>
		#SET{titre_groupe,#TYPE}
		<B_teste>
		<BOUCLE_teste(CONDITION){si #GET{mots}}>
			<B_tuto>
				#SET{data,#GET{data}|array_merge{#ARRAY{#TITRE,#ID_MOT}}}
			<BOUCLE_tuto(TUTOS){id_mot}{mots 100% #GET{mots}}> </BOUCLE_tuto>
		</BOUCLE_teste>
			<B_tuto_alter>
				#SET{data,#GET{data}|array_merge{#ARRAY{#TITRE,#ID_MOT}}}
			<BOUCLE_tuto_alter(TUTOS){id_mot}> </BOUCLE_tuto_alter>
		<//B_teste>
	</BOUCLE_groupe>

	#SET{data,#GET{data}|array_flip}
	#SET{saisies,#GET{saisies}|array_merge{
			#ARRAY{
				#COMPTEUR_BOUCLE,#ARRAY{
					saisie,selection,
					options,#ARRAY{
						nom,#VALEUR,
						label,#GET{titre_groupe},
						option_intro,\<:tutotheque:choix_tout:\>,
						data,#GET{data},
					},
				}
			}
		}
	}
</BOUCLE_criteres>


#GENERER_SAISIES{#GET{saisies}}

